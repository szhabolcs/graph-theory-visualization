<!DOCTYPE html>
<html>

<head>
    <title>Graphviser</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="UTF-8">
    <link rel="shortcut icon" type="image/png" href="./images/Icon@4x.png"/>
    <link href="https://fonts.googleapis.com/css?family=Roboto:400,400i,500,500i&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="./style/style.css">
</head>

<body>
    <canvas id="canvas"></canvas>
    
    <div id="content">
        <div style="text-align: right;">
            <a id="hu-link"><img class="flag" src="./images/hu_flag.png"></a>
            <a id="ro-link"><img class="flag" src="./images/ro_flag.png"></a>
        </div>
        
        <img src="./images/logo@10x.png" class="img-fluid">
    
        <h1 id="header-text">

        </h1>
        <div class="card" style="width: 18rem;">
            <img class="card-img-top" src="./images/app.png" alt="Card image cap">
            <div class="card-body">
            <h5 class="card-title">Graphviser app</h5>
            <p class="card-text" id="app-text"></p>
            <a class="btn btn-primary" id="app-button"></a>
            </div>
        </div>
        <div class="card" style="width: 18rem;">
            <img class="card-img-top" src="./images/learn.png" alt="Card image cap">
            <div class="card-body">
            <h5 class="card-title">Graphviser learn</h5>
            <p class="card-text" id="learn-text"></p>
            <a class="btn btn-primary" id="learn-button"></a>
            </div>
        </div>
        <div class="card" style="width: 18rem;">
            <img class="card-img-top" src="./images/docs.png" alt="Card image cap">
            <div class="card-body">
            <h5 class="card-title">Graphviser docs</h5>
            <p class="card-text" id="docs-text"></p>
            <a class="btn btn-primary" id="docs-button"></a>
            </div>
        </div>
        <br>
        
    </div>
</body>
<script>
    /**
    * This function returns the value of the given parameter
    * @param {String} name the name of the parameter to read
    */
    function urlParam(name){
        var results = new RegExp('[\?&]' + name + '=([^&#]*)').exec(window.location.href);
        if (results==null) {
            var searchParams = new URLSearchParams(window.location.search)
            searchParams.set("locale", "hu");
            var newRelativePathQuery = window.location.pathname + '?' + searchParams.toString();
            history.pushState(null, '', newRelativePathQuery);

            return "hu";
        }
        return decodeURI(results[1]) || 0;
    }

    let locale = urlParam("locale");

    if(locale == "ro"){
        //h1
        document.getElementById("header-text").innerHTML = "O suită de aplicații interactive și moderne de predare a teoriei grafurilor"

        //App
        document.getElementById("app-text").innerHTML = "O aplicație de vizualizare a algoritmilor teoriei grafurilor.";
        document.getElementById("app-button").innerHTML = "Pornește aplicația";

        //Learn
        document.getElementById("learn-text").innerHTML = "O pagină cu toate informațiile despre teoria grafurilor și quiz-uri ajutătoare.";
        document.getElementById("learn-button").innerHTML = "Începe să înveți";

        //Docs
        document.getElementById("docs-text").innerHTML = "Documentația applicației de vizualizare.";
        document.getElementById("docs-button").innerHTML = "Citește documentația";
    }
    else if(locale == "hu"){
        //h1
        document.getElementById("header-text").innerHTML = "Egy interaktív és modern gráf elmélet oktató alkalmazáscsomag"

        //App
        document.getElementById("app-text").innerHTML = "Egy alkalmazás, amely a gráf elmélet algoritmusait vizualizálja.";
        document.getElementById("app-button").innerHTML = "Az alkalmazás indítása";

        //Learn
        document.getElementById("learn-text").innerHTML = "Egy oldal, amely gráf elmélet tananyagot tartalmaz, segítő kvízekkel.";
        document.getElementById("learn-button").innerHTML = "Kezdj el tanulni";

        //Docs
        document.getElementById("docs-text").innerHTML = "A vizualizáló applikáció dokumentációja.";
        document.getElementById("docs-button").innerHTML = "Olvass bele a dokumentációba";
    }

    //Button links
    document.getElementById("app-button").href = "https://app."+window.location.hostname+"?locale="+locale;
    document.getElementById("learn-button").href = "https://learn."+window.location.hostname+"?locale="+locale;
    document.getElementById("docs-button").href = "https://docs."+window.location.hostname+"?locale="+locale;

    //Flag hiding
    document.getElementById(locale+"-link").style.display = "none";

    //Flag links
    let url = window.location.href;
    document.getElementById("hu-link").href = url.replace("locale="+locale,"locale=hu");
    document.getElementById("ro-link").href = url.replace("locale="+locale,"locale=ro");

</script>
<script  src="./scripts/particles.js"></script>
</html>